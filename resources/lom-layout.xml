<?xml version="1.0"?>
<root>
	<instance class="BACKGROUND" />

<!--
	<instance class="Table"> </instance>
-->

	<perchObject>

              	<timer name="sparkleMasterTimer" message="masterSparkleMsg" timerDelay=".1" duration="8" repeat="1" />
		<timer name="clearTimer" message="clearMsg" timerDelay=".1" duration="8" repeat="0" />

		<event type="onMessage" name="clearTimer" message="clearMsg">
                        <python file="script.py" function="debug" args="this is a clear msg">spot0</python>
		
		</event>

                <event type="onMessage" message="masterSparkleMsg" name="sparkleMasterTimer">
                        <python file="script.py" function="masterSparkle" args="">bg</python>
                </event>

                <event type="onIdle">
                        <python file="script.py" function="debug" args="Idle">spot1</python>
                </event>

                <event type="onInit">

			<hide>video1</hide>
			<hide>video2</hide>
			<hide>video3</hide>
			<hide>video0</hide>

                        <timerReset name="sparkleMasterTimer" message="masterSparkleMsg" timerDuration="5" timerDelay=".1" timerRepeat="1"/>
                </event>

		<event type="onMessage" message="start_video" name="spot0">
                        <python file="script.py" function="debug" args="start video 0">spot0</python>
			
			<tell_message message="stopVideo">video1</tell_message>
			<tell_message message="stopVideo">video2</tell_message>
			<tell_message message="stopVideo">video3</tell_message>
			<hide>video1</hide>
			<hide>video2</hide>
			<hide>video3</hide>

			<show>video0</show>
			<tell_message message="startVideo">video0</tell_message>
                </event>
		<event type="onMessage" message="start_video" name="spot1">

			<tell_message message="stopVideo">video0</tell_message>
			<tell_message message="stopVideo">video2</tell_message>
			<tell_message message="stopVideo">video3</tell_message>
			<hide>video0</hide>
			<hide>video2</hide>
			<hide>video3</hide>

			<hide>sketch_back</hide>

			<show>video1</show>
			<tell_message message="startVideo">video1</tell_message>
                </event>

		<event type="onMessage" message="start_video" name="spot2">

			<hide>video1</hide>
			<hide>video0</hide>
			<hide>video3</hide>

			<hide>sketch_back</hide>
			<show>video2</show>
			<tell_message message="startVideo">video2</tell_message>
                </event>

		<event type="onMessage" message="start_video" name="spot3">

			<hide>video1</hide>
			<hide>video2</hide>
			<hide>video0</hide>

			<hide>sketch_back</hide>
			<show>video3</show>
			<tell_message message="startVideo">video3</tell_message>
                </event>


		<event type="onMessage" message="hide_video" name="video0">
			<hide>video0</hide>
			<show>sketch_back</show>
			<tell_message message="stopVideo">video0</tell_message>
                </event>

		<event type="onMessage" message="hide_video" name="video1">
			<hide>video1</hide>
			<show>sketch_back</show>
			<tell_message message="stopVideo">video1</tell_message>
                </event>

		<event type="onMessage" message="hide_video" name="video2">
			<hide>video2</hide>
			<show>sketch_back</show>
                </event>
		<event type="onMessage" message="hide_video" name="video3">
			<hide>video3</hide>
			<show>sketch_back</show>
                </event>


		<content>
                <instance class="spotlight" replace="0" >
			<name input="tname">spot0</name>
                        <position input="pos">Point(150,500,0)</position>
                </instance> 
                <instance class="spotlight" replace="1" >
			<name input="tname">spot1</name>
                        <position input="pos">Point(500,700,0)</position>
                </instance>
                <instance class="spotlight" replace="2" >
			<name input="tname">spot2</name>
                        <position input="pos">Point(800,600,0)</position>
                </instance>
                <instance class="spotlight" replace="3" >
			<name input="tname">spot3</name>
                        <position input="pos">Point(1100,350,0)</position>
                </instance>

                <image name="sketch_back">
                    <file input="content_image">images/HAVAS.jpg</file>
                        <position input="pos">Point(640,300,0)</position>
                    <show start_alpha="0" start_scale="Point( 1,1,1 )" scale="Point( 1,1,1 )" alpha="1" duration=".5" repeat="none" function="sinusInOutFunc" />
                    <hide start_alpha="1" scale="Point( 1,1,1 )" start_scale="Point( 1,1,1 )" alpha="0" duration=".5" repeat="none" function="sinusInOutFunc" />
                </image>

		<instance class="videos" replace="0">
			<name input="vname">video0</name>
                        <position input="pos">Point(640,300,0)</position>
		</instance>

		<instance class="videos" replace="1">
			<name input="vname">video1</name>
                        <position input="pos">Point(640,300,0)</position>
		</instance>

		<instance class="videos" replace="2">
			<name input="vname">video2</name>
                        <position input="pos">Point(640,300,0)</position>
		</instance>

		<instance class="videos" replace="3">
			<name input="vname">video3</name>
                        <position input="pos">Point(640,300,0)</position>
		</instance>

<!--
        <particles name="product1">
        <origin>Point(640,200,0)</origin>
        <folder>images/particle_1</folder>
        <drawColor>rgb(255,255,255)</drawColor>
        <subscribe message="PERCH_MESSAGE"/>
        </particles>

        <particles name="product2">
        <origin>Point(213,500,0)</origin>
        <folder>images/particle_2</folder>
        <drawColor>rgb(255,255,255)</drawColor>
        <subscribe message="PERCH_MESSAGE"/>
        </particles>

        <particles name="product3">
        <origin>Point(1050,500,0)</origin>
        <folder>images/particle_3</folder>
        <drawColor>rgb(255,255,255)</drawColor>
        <subscribe message="PERCH_MESSAGE"/>
        </particles>
-->

		</content>
	</perchObject>

</root>
